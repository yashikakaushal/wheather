<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
    <div class="jumbotron" >weatherapp</div>
    <div class="container">
<!--
        <div class="row">
            <div class="col-md-6 offset-3">  // md is screen size define
                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Harum quisquam molestiae cupiditate, cumque minus, libero repudiandae eius soluta animi illum fugit dolorum, commodi neque. Similique, repellat. Ipsum adipisci ratione quasi doloribus excepturi, amet consequuntur modi eos dolore nisi expedita molestias aspernatur fugiat, commodi accusamus quas libero, suscipit maiores! Nisi accusamus fuga enim culpa non? Alias optio sapiente harum. Necessitatibus voluptates repellat quam, ullam quas a numquam ducimus sunt minima veniam, incidunt molestiae rem. Distinctio aspernatur modi vero quis consectetur blanditiis in mollitia assumenda incidunt quisquam. Atque ut aliquam ab esse odit sit corporis facere possimus laudantium facilis vitae numquam, soluta, deserunt magnam quae! Quia atque quae debitis pariatur minus quas consectetur veritatis quidem eos eligendi. Asperiores sit nulla explicabo. Minima alias quidem expedita quos, nesciunt consectetur eum, aut, dicta quia animi suscipit dolorum recusandae obcaecati architecto consequuntur eveniet. Quisquam natus culpa similique autem minima nemo quasi, quis voluptatem facilis vero porro ipsa. Delectus suscipit ut rerum, nulla ipsum autem voluptatum nobis natus vitae sit obcaecati quis non. Optio quod et est quae eum quos temporibus distinctio ipsum ullam, voluptatum sunt impedit at architecto. Saepe ad similique aliquid voluptates excepturi minus veniam velit architecto ullam, dolore aperiam magni necessitatibus rem sed nulla fuga soluta exercitationem voluptas harum debitis pariatur blanditiis earum aliquam repudiandae? Commodi, enim neque tempora non officiis consectetur, molestias tempore, id ab quos aut molestiae. Assumenda porro saepe culpa odio! Vero necessitatibus, corporis ducimus asperiores perspiciatis error voluptatum cumque omnis eum ab quidem eveniet ipsum quae natus. Veniam dolorem perferendis repellat dolorum illo accusantium repellendus cum atque ullam, soluta aperiam totam enim magni recusandae sint molestiae quam corporis eius voluptas mollitia! Autem, totam quaerat incidunt impedit blanditiis voluptas? Quo necessitatibus alias eveniet est beatae dicta atque enim nulla modi magni qui impedit fugit, porro, unde facilis laboriosam quam magnam vitae numquam non inventore. Nobis nisi tempore blanditiis distinctio quaerat et eius porro voluptatem ullam in optio, minima aliquam necessitatibus suscipit perferendis vero iusto facilis placeat doloremque laborum velit asperiores. Laudantium, vero quasi commodi iusto atque, quia fuga quo quaerat placeat consequatur eius neque nulla molestiae voluptatem molestias error sequi illum itaque culpa impedit corporis? Sit dolorem voluptatem nihil eum maxime officiis, facere voluptatum impedit eius sequi assumenda iusto magni architecto repellendus harum nemo saepe esse, quo repellat dolor fuga cumque. In maiores quod assumenda veniam sit hic illum minima earum quis quas ab aspernatur voluptates, accusantium eligendi aut? Quibusdam minima nulla ipsa, fugit earum nobis illum, explicabo ipsam commodi voluptatem vitae expedita voluptate dolores nemo, excepturi mollitia consectetur beatae tenetur hic iure omnis tempora soluta eligendi nam! Soluta, quis tempora in iusto atque dolore doloribus corrupti adipisci earum unde ex suscipit? Voluptate, iusto? Itaque non nobis, blanditiis laudantium delectus, commodi placeat aut minima eum illo earum recusandae modi facilis possimus dolorum quibusdam! Dolorum iusto asperiores fugit unde, rem corporis cupiditate eum repellat eius quam inventore tempora, sint omnis eaque, assumenda optio. Quia deserunt delectus atque dignissimos in sed earum? Omnis, aperiam cupiditate pariatur accusantium illum optio ad magni sit! 
            </div>
        </div>  -->

        <div class="row">
            <div class="col-md-6 offset-3"> 
            <form>
                <div class="form-group">
                    <label for="city">Enter city:</label>
                    <input class="form-control" type="text" id="city">
                </div>
                     <button class="btn btn-primary" type="button" onclick="getWeather()">Get Temprature</button>
            </form>
            <div id="weather-info" class="container mt-4"></div>
            </div>
         </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

     <script te="text/javascript">
        function getWeather(){ 
            console.log("clicked");

            // API CALL
          //  https://api.openweathermap.org/data/2.5/weather

            const city = document.getElementById('city').value;
            const apikey="a57d65a2330043e0f5d89702e806da8b";
            const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apikey}`;

            // Fetch
           /* fetch(url)
            .then(Response => console.log(Response.json())) //step 1
            .then(data => console.log(data))  // step 2

            .catch(e=>(console.log(e))) */

            fetch(url)
            .then(response => response.json()) // step1
            .then(Data=>{ //step 2
                const weatherInfo= document.querySelector('#weather-info');
              // const weatherInfo= document.getElementById("weather-info");
               weatherInfo.innerHTML= `<p>
                    Temperature: ${Math.round(data.main.temp - 273.5)}
                    <sup>&deg;C</sup></p> 
                    <p> Description: ${data.weather[0].description}</p>`;
           // degree celcius code = &deg;c
                })
            .catch(e=>{console.log(e)})
            

        //    var myname = "bharat";
         //   var stringabc = "my name is "+myname; 
          //  var stringpqr = `` 


            // FETCH -> url (API) -> STEP status (stram of date)
            // STEP 2 

            // API -> calling
            // city -> weather api = response
            // show the response
            // php -> curl
            // java -> unirest
            // java script -> xhr (AJAX) -> fetch API
            // Axios, jquery AJAX

        }

    </script>

    <script type="text/javascript">
        let promisee = new Promise(function(resolve,reject){
            if(true) {
                resolve("passes");
            }
            else {
                reject("failed");
            }
        });

        promisee.then(pass);
        promisee.catch(failed);

        function pass(resolve){
            console.log(resolve);
        }
        
        function failed(failed){
            console.log(failed);
        }
    </script>

    <script>
        // www.exampleAPI.com/{bharat}
        
        var data= {
            "firstname":"bharat",
            "lastname":"kumar",
            "password":""
        }
        console.log("data");
    </script>

    <script>
        fetch(url)  // promish
        .then(function(response){
           return response.json();
        }) // not excess 404,500,200,201.... stream of data response.json() response.blog() response.text()
        .then(function(finalResult){
            console.log("finalResult");
            let res = finalResult;
            
        })
    </script>
<!--
    <script>
        // JSON
        let student={
            "name":"bharat",
            "rollno": "21ECACS003",
            "branch":"CSE",
            "subject":['DSA',"OOPS","DE"],
            "percentages":{
                "firstSem":78,
                "secondSem":89,
            }
        }
        console.log(student.rollno);
        console.log(student.name);
        console.log(student.percentages.firstSem);
        

        // BRACKET Notation
       // console.log(student[var-Response]);
    </script>
-->
</body>
</html>